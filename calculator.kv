#:import utils kivy.utils
#:import Factory kivy.factory.Factory
<Calculator>
	BoxLayout:
		orientation: "vertical"
		size: root.width, root.height
		
		TextInput:
			id: calc_input
			text: "0"
			halign: "right"
			font_size: 65
			size_hint: (1, .15)
		GridLayout:
			cols: 4
			rows: 6

            # Row 6
            Button:
                text: "Estimate Income"
                on_press: root.manager.current = 'estimate'
                background_color: utils.get_color_from_hex('#00FFFF')

            Button:
                text: "Calculate Date"
                on_press: root.manager.current = 'getDate'
                background_color: utils.get_color_from_hex('#00FFFF')
            
            Button:
                text: "Dif Mode 2"
                on_press: root.manager.current = 'estimate'
                background_color: utils.get_color_from_hex('#00FFFF')

            Button:
                text: "Dif mode 3"
                on_press: root.manager.current = 'estimate'
                background_color: utils.get_color_from_hex('#00FFFF')

			# Row 5 
			Button:
				font_size: 32
				text: "%"
                background_color: (0, 1, 0)

			Button:
				font_size: 32
				text: "C"
                background_color: (0, 1, 0)
				on_press: root.clear()

			Button:
				id: clear
				font_size: 32
				text: u"\u00AB"
                background_color: (0, 1, 0)
				on_press: root.remove()
				
			Button:
				font_size: 32
				text: "/"
				on_press: root.math_sign("/")
                background_color: utils.get_color_from_hex('#FF9500')

			# Row 4 
			Button:
				font_size: 32
				text: "7"
				background_color: utils.get_color_from_hex('#505050')
				on_press: root.button_press(7)

			Button:
				font_size: 32
				text: "8"
				background_color: utils.get_color_from_hex('#505050')
				on_press: root.button_press(8)

			Button:
				font_size: 32
				text: "9"
				background_color: utils.get_color_from_hex('#505050')
				on_press: root.button_press(9)

			Button:
				font_size: 32
				text: "x"
				on_press: root.math_sign("*")
                background_color: utils.get_color_from_hex('#FF9500')

			# Row 3 
			Button:
				font_size: 32
				text: "4"
				background_color: utils.get_color_from_hex('#505050')
				on_press: root.button_press(4)

			Button:
				font_size: 32
				text: "5"
				background_color: utils.get_color_from_hex('#505050')
				on_press: root.button_press(5)

			Button:
				font_size: 32
				text: "6"
				background_color: utils.get_color_from_hex('#505050')
				on_press: root.button_press(6)

			Button:
				font_size: 32
				text: "-"
				on_press: root.math_sign("-")
                background_color: utils.get_color_from_hex('#FF9500')

			# Row 2
			Button:
				font_size: 32
				text: "1"
				background_color: utils.get_color_from_hex('#505050')
				on_press: root.button_press(1)

			Button:
				font_size: 32
				text: "2"
				background_color: utils.get_color_from_hex('#505050')
				on_press: root.button_press(2)

			Button:
				font_size: 32
				text: "3"
				background_color: utils.get_color_from_hex('#505050')
				on_press: root.button_press(3)

			Button:
				font_size: 32
				text: "+"
				on_press: root.math_sign("+")
                background_color: utils.get_color_from_hex('#FF9500')

			# Row 1
			Button:
				font_size: 32
				text: "+/-"
				background_color: utils.get_color_from_hex('#505050')
				on_press: root.pos_neg()
                

			Button:
				font_size: 32
				text: "0"
				background_color: utils.get_color_from_hex('#505050')
				on_press: root.button_press(0)

			Button:
				font_size: 32
				text: "."
				background_color: utils.get_color_from_hex('#505050')
				on_press: root.dot()

			Button:
				font_size: 32
				text: "="
				on_press: root.equals()
                background_color: utils.get_color_from_hex('#FF9500')


<MyPopup@Popup>
    on_open: root.SetData()
    id: pop_up
    auto_dismiss: False
    size_hint: 0.6, 0.7
    pos_hint: {"center_x": .5, "center_y": .5}
    title: "Summary"
    BoxLayout:
        orientation: 'vertical'
        Label:
            text:'Your estimated net income yearly:'
            font_size: 32
        Label:
            id: pop_yearly
            text:'yearly'
            font_size: 32
        Label:
            color:(3/255,236/255,252/255,1)
            text: '----------------------------------------------------------------------------------------------------------------------------------------------'
        Label:
            text:'Your estimated net income Monthly:'
            font_size: 32
        Label:
            id: pop_monthly
            text:'monthly'
            font_size: 32

        Label:
            color:(3/255,236/255,252/255,1)
            text: '----------------------------------------------------------------------------------------------------------------------------------------------'      
        
        Label:
            text:'Your estimated net income semi monthly:'
            font_size: 32
        Label:
            id: pop_semi
            text:'semi'
            font_size: 32

        Label:
            color:(3/255,236/255,252/255,1)
            text: '----------------------------------------------------------------------------------------------------------------------------------------------'
        
        Button:
            text: "Close"
            font_size: 32
            pos_hint: {"center_x": .5, "center_y": .5}
            size_hint: 1,1
            on_release: root.dismiss()

<EstimateIncome> 
    BoxLayout:
        orientation:'vertical'
        BoxLayout:
            size_hint: (1,.2)
            Button:
                text: "Calculator"
                on_press: root.manager.current = 'Calculator'
            Button:
                text: "Calculate Date"
                on_press: root.manager.current = 'getDate'
            Button:
                text: "helo world3"
            Button:
                text: "helo world4"

        GridLayout:
			cols: 2
			rows: 5

            Label:
                text:'Please Enter your income: '
            
            TextInput:
                id: income_input
                hint_text: '$'
                input_filter: 'float'       
                text: ''
                halign: "left"
                font_size: 65
                size_hint: (1, .5)
            Label:
                text:'Please Enter which states you live in: '
            TextInput:
                id: state_input
                text: ""
                halign: "left"
                multiline: False
                write_tab: False
                font_size: 65
                size_hint: (1, .15)
            Label:
                text:'Your estimated net income yearly'
            Label:
                id: yearly
                text:'yearly'
            Label:
                text:'Your estimated net income Monthly'
            Label:
                id: monthly
                text:'monthly'
            Label:
                text:'Your estimated net income semi monthly'
            Label:
                id: semi
                text:'semi'
        
        Button:
            text:'Popup'
            size_hint: (1,.2)
            on_press: root.taxCalculate()
            on_release: Factory.MyPopup().open()


#size_hint: (width, height)

<Get_Date> 
    BoxLayout: 
        Button:
            text: "calculate date"
            on_press: root.manager.current = 'Calculator'